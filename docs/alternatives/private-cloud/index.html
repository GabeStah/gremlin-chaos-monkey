<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.13.0 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Chaos Monkey Alternatives - Private Cloud - Gremlin: Chaos Monkey</title>
<meta name="description" content="Explores Chaos Monkey alternative technologies on Private Cloud systems.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Gremlin: Chaos Monkey">
<meta property="og:title" content="Chaos Monkey Alternatives - Private Cloud">
<meta property="og:url" content="http://localhost:4000/gremlin-chaos-monkey/alternatives/private-cloud/">








  <meta property="article:published_time" content="2018-08-30T00:00:00-07:00">





  

  


<link rel="canonical" href="http://localhost:4000/gremlin-chaos-monkey/alternatives/private-cloud/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Gabe Wyatt",
      "url": "http://localhost:4000/gremlin-chaos-monkey",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/gremlin-chaos-monkey/feed.xml" type="application/atom+xml" rel="alternate" title="Gremlin: Chaos Monkey Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/gremlin-chaos-monkey/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
<meta name="robots" content="noindex, nofollow" />
<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/gremlin-chaos-monkey/">Gremlin: Chaos Monkey</a>
        <ul class="visible-links">
<li class="masthead__menu-item">
              <a href="/gremlin-chaos-monkey/notes">Notes to Editor</a>
            </li>
<li class="masthead__menu-item">
              <a href="https://drive.google.com/drive/folders/16PhHEJGZtF428eyko_6-2BxpDGAU9JhW?usp=sharing" target="_blank" rel="noopener noreferrer">Google Drive Exports</a>
            </li>
</ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="http://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
          <a href="http://localhost:4000/gremlin-chaos-monkey/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1">
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
          <a href="/gremlin-chaos-monkey/alternatives" itemprop="item"><span itemprop="name">Alternatives</span></a>
          <meta itemprop="position" content="2">
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Chaos Monkey Alternatives - Private Cloud</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox">
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Hub Pages</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/" class="">Chaos Monkey Guide for Engineers</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/origin-netflix" class="">The Origin of Chaos Monkey</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/developer-tutorial" class="">Chaos Monkey Tutorial</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/advanced-tips" class="">Advanced Developer Guide</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/simian-army" class="">The Simian Army</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/downloads-resources" class="">Chaos Monkey Resources</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives" class="">Chaos Monkey Alternatives</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Alternatives</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/azure" class="">Azure</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/docker" class="">Docker</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/google-cloud-platform" class="">Google Cloud Platform</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/kubernetes" class="">Kubernetes</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/openshift" class="">OpenShift</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/private-cloud" class="">Private Cloud</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/spring-boot" class="">Spring Boot</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/vmware" class="">VMware</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Chaos Monkey Alternatives - Private Cloud">
    
    <meta itemprop="datePublished" content="August 30, 2018">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Chaos Monkey Alternatives - Private Cloud
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title">
<i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#gomjabbar">GomJabbar</a></li>
  <li><a href="#failure-injection-on-your-private-cloud-with-gremlin">Failure Injection on Your Private Cloud with Gremlin</a></li>
  <li><a href="#muxy">Muxy</a></li>
</ul>
            </nav>
          </aside>
        
        <h2 id="gomjabbar">GomJabbar</h2>

<p><a href="https://github.com/outbrain/GomJabbar" target="_blank" rel="noopener noreferrer">GomJabbar</a> is an open-source implementation of Chaos Monkey written in Java and designed to perform attacks within a private cloud architecture.  Attacks are defined through the YAML configuration file and are executed as plain shell commands (e.g. <code class="highlighter-rouge">sudo service ${module} stop</code>).  It also integrates with <a href="https://docs.ansible.com/ansible/latest/index.html" target="_blank" rel="noopener noreferrer">Ansible</a> and <a href="https://rundeck.org/" target="_blank" rel="noopener noreferrer">Rundeck</a>.</p>

<p>Attacks are defined in the <code class="highlighter-rouge">config.yaml</code> within the <code class="highlighter-rouge">commands</code> block.  The <code class="highlighter-rouge">fail</code> value is the fault command to be executed, while the (optional) <code class="highlighter-rouge">revert</code> value is executed to attempt reversion.  For example, here the <code class="highlighter-rouge">shutdown_service</code> command calls <code class="highlighter-rouge">sudo service &lt;service-name&gt; stop</code> as a fault and the opposite to revert.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">commands</span><span class="pi">:</span>
  <span class="na">kill_service</span><span class="pi">:</span>
    <span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Kills</span><span class="nv"> </span><span class="s">services."</span>
    <span class="na">fail</span><span class="pi">:</span> <span class="s2">"</span><span class="s">sudo</span><span class="nv"> </span><span class="s">pkill</span><span class="nv"> </span><span class="s">-s</span><span class="nv"> </span><span class="s">9</span><span class="nv"> </span><span class="s">-f</span><span class="nv"> </span><span class="s">${module}"</span>
    <span class="na">revert</span><span class="pi">:</span> <span class="s2">"</span><span class="s">sudo</span><span class="nv"> </span><span class="s">service</span><span class="nv"> </span><span class="s">${module}</span><span class="nv"> </span><span class="s">start"</span>

  <span class="na">shutdown_service</span><span class="pi">:</span>
    <span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Shuts</span><span class="nv"> </span><span class="s">down</span><span class="nv"> </span><span class="s">services."</span>
    <span class="na">fail</span><span class="pi">:</span> <span class="s2">"</span><span class="s">sudo</span><span class="nv"> </span><span class="s">service</span><span class="nv"> </span><span class="s">${module}</span><span class="nv"> </span><span class="s">stop"</span>
    <span class="na">revert</span><span class="pi">:</span> <span class="s2">"</span><span class="s">sudo</span><span class="nv"> </span><span class="s">service</span><span class="nv"> </span><span class="s">${module}</span><span class="nv"> </span><span class="s">start"</span>
</code></pre></div></div>

<p>The <code class="highlighter-rouge">filters</code> block in <code class="highlighter-rouge">config.yaml</code> defines a list of <code class="highlighter-rouge">clusters</code>, <code class="highlighter-rouge">modules</code>, and <code class="highlighter-rouge">tags</code> to either be whitelisted or blacklisted via <code class="highlighter-rouge">include</code> or <code class="highlighter-rouge">exclude</code>, respectively.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">filters</span><span class="pi">:</span>
  <span class="na">clusters</span><span class="pi">:</span>
    <span class="na">include</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">gremlin-chaos</span>
    <span class="na">exclude</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">grandmas-cluster</span>

  <span class="na">modules</span><span class="pi">:</span>
    <span class="na">include</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">nginx</span>
      <span class="pi">-</span> <span class="s">redis-server</span>
    <span class="na">exclude</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">critical</span>

  <span class="na">tags</span><span class="pi">:</span>
    <span class="na">include</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">development</span>
      <span class="pi">-</span> <span class="s">production</span>
    <span class="na">exclude</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">test</span>
</code></pre></div></div>

<p>As we saw in the <code class="highlighter-rouge">commands</code> block above <code class="highlighter-rouge">${module}</code> can be referenced in fault commands and will automatically be replaced with the relevant service name.  Once configured you can start the server by exporting the generated <code class="highlighter-rouge">GJ_OPTIONS</code> and calling the <code class="highlighter-rouge">gomjabbar.sh</code> script.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">GJ_OPTIONS</span><span class="o">=</span><span class="s2">"-Dcom.outbrain.gomjabbar.configFileUrl=&lt;config file url&gt; ..."</span>
./gomjabbar.sh
</code></pre></div></div>

<p>You can then use the <a href="https://github.com/outbrain/GomJabbar/blob/master/docs/user-guide.md#rest-api" target="_blank" rel="noopener noreferrer">REST API</a> to trigger attacks and revert faults.</p>

<h2 id="failure-injection-on-your-private-cloud-with-gremlin">Failure Injection on Your Private Cloud with Gremlin</h2>

<p>Gremlin’s <a href="https://www.gremlin.com" target="_blank" rel="noopener noreferrer">Failure as a Service</a> locates weaknesses in your private cloud architecture before they cause problems.  Gremlin makes Chaos Engineering simple, safe, and secure, improving your private cloud’s stability and resilience.  You can begin executing Chaos Experiments in just a few minutes by <a href="https://www.gremlin.com/demo" target="_blank" rel="noopener noreferrer">signing up</a> for an account and <a href="https://help.gremlin.com/installation/" target="_blank" rel="noopener noreferrer">installing Gremlin</a>.  Gremlin can perform a variety of attacks against every major type of private cloud infrastructure including Linux, Docker, Kubernetes, OpenStack, VMware, and many more.</p>

<p>Check out <a href="https://help.gremlin.com/installation/" target="_blank" rel="noopener noreferrer">these tutorials</a> to learn how to install Gremlin and start Chaos Engineering your private cloud today.</p>

<h2 id="muxy">Muxy</h2>

<p><a href="https://github.com/mefellows/muxy" target="_blank" rel="noopener noreferrer">Muxy</a> is an open-source tool written in Go that allows you to tamper with network traffic at the transport, TCP, or HTTP protocol layers of your systems.  In can simulate real-world network connectivity problems and can also be extended with plugins via the <a href="https://github.com/mefellows/plugo" target="_blank" rel="noopener noreferrer">Plugo</a> interface.</p>

<p>Muxy is configured through a YAML file that defines a number of <code class="highlighter-rouge">proxy</code> and <code class="highlighter-rouge">middleware</code> blocks.</p>

<ol>
  <li>
    <p>Start by installing Muxy with <code class="highlighter-rouge">go get</code>.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> go get github.com/mefellows/muxy
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create a YAML file and paste the following test configuration in it.</p>

    <div class="language-yaml highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="c1"># gremlin.yml</span>
 <span class="na">proxy</span><span class="pi">:</span>
   <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">http_proxy</span>
     <span class="na">config</span><span class="pi">:</span>
       <span class="na">host</span><span class="pi">:</span> <span class="s">0.0.0.0</span>
       <span class="na">port</span><span class="pi">:</span> <span class="s">8181</span>
       <span class="na">proxy_host</span><span class="pi">:</span> <span class="s">www.gremlin.com</span>
       <span class="na">proxy_port</span><span class="pi">:</span> <span class="s">443</span>

 <span class="c1"># Proxy plugins</span>
 <span class="na">middleware</span><span class="pi">:</span>
   <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">http_tamperer</span>
     <span class="na">config</span><span class="pi">:</span>
       <span class="na">request</span><span class="pi">:</span>
         <span class="na">host</span><span class="pi">:</span> <span class="s">www.gremlin.com</span>
         <span class="na">port</span><span class="pi">:</span> <span class="s">443</span>

   <span class="c1"># Message Delay request/response plugin</span>
   <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">delay</span>
     <span class="na">config</span><span class="pi">:</span>
       <span class="na">request_delay</span><span class="pi">:</span>  <span class="s">2500</span>
       <span class="na">response_delay</span><span class="pi">:</span> <span class="s">2500</span>

   <span class="c1"># Log in/out messages</span>
   <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">logger</span>
</code></pre></div>    </div>

    <p>This configuration creates a <code class="highlighter-rouge">localhost:8181</code> proxy that targets <code class="highlighter-rouge">www.gremlin.com:443</code>.  It also creates an <code class="highlighter-rouge">http_tamperer</code> middleware that catches requests made to <code class="highlighter-rouge">www.gremlin.com:443</code> and adds a <code class="highlighter-rouge">2.5-second</code> delay to both requests and responses.  Finally, it outputs Muxy messages to the default terminal logger.</p>
  </li>
  <li>
    <p>Start Muxy with the following command, ensuring that you specify the location of the YAML configuration file.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> muxy proxy <span class="nt">--config</span> ./gremlin.yml
</code></pre></div>    </div>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="c"># OUTPUT</span>
 2018/09/18 22:47:39.179395 <span class="o">[</span>INFO]		Loading plugin 	http_tamperer
 2018/09/18 22:47:39.179415 <span class="o">[</span>INFO]		Loading plugin 	delay
 2018/09/18 22:47:39.179419 <span class="o">[</span>INFO]		Loading plugin 	logger
 2018/09/18 22:47:39.179451 <span class="o">[</span>INFO]		Loading proxy 	http_proxy
 2018/09/18 22:47:39.179465 <span class="o">[</span>DEBUG]		HTTP Tamperer Setup<span class="o">()</span>
 2018/09/18 22:47:39.179476 <span class="o">[</span>DEBUG]		Delay Symptom - Setup<span class="o">()</span>
 2018/09/18 22:47:39.179578 <span class="o">[</span>INFO]		HTTP proxy listening on http://0.0.0.0:8181
</code></pre></div>    </div>
  </li>
  <li>
    <p>Now that Muxy is listening at <code class="highlighter-rouge">http://0.0.0.0:8181</code> you can make a request to <code class="highlighter-rouge">www.gremlin.com</code> through the proxy to test it out.  Muxy should add a delay of approximately 5 seconds to the request.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">time </span>curl <span class="nt">-H</span><span class="s2">"Host: www.gremlin.com"</span> http://localhost:8181/
</code></pre></div>    </div>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="c"># OUTPUT</span>
 real	0m5.070s
 user	0m0.000s
 sys	0m0.004s
</code></pre></div>    </div>
  </li>
  <li>
    <p>Now try the same timed test but without passing through the <code class="highlighter-rouge">localhost:8181</code> proxy, and you’ll see Muxy doesn’t catch or <em>muck</em> with this request.</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">time </span>curl <span class="nt">-o</span> /dev/null https://www.gremlin.com
</code></pre></div>    </div>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="c"># OUTPUT</span>
 real	0m0.257s
 user	0m0.036s
 sys	0m0.012s
</code></pre></div>    </div>
  </li>
</ol>

<p>Check out the <a href="https://github.com/mefellows/muxy/" target="_blank" rel="noopener noreferrer">official Muxy documentation</a> for more information on integrating Muxy into your private cloud Chaos Engineering.</p>


        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2018-08-30T00:00:00-07:00">August 30, 2018</time></p>
        
      </footer>

      

      
    </div>

    
  </article>

  
  
</div>
    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
    
    
    <li><a href="/gremlin-chaos-monkey/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">© 2018 Gabe Wyatt</div>

      </footer>
    </div>

    
  <script src="/gremlin-chaos-monkey/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"></script>








  </body>
</html>