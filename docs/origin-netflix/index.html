<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.12.2 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>The Origin of Chaos Monkey - Why Netflix Needed to Create Failure - Gremlin: Chaos Monkey</title>
<meta name="description" content="Establishes the current (and historic) role of Chaos Monkey within the Netflix architecture and general Chaos Engineering practices.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Gremlin: Chaos Monkey">
<meta property="og:title" content="The Origin of Chaos Monkey - Why Netflix Needed to Create Failure">
<meta property="og:url" content="http://localhost:4000/gremlin-chaos-monkey/origin-netflix/">








  <meta property="article:published_time" content="2018-09-12T00:00:00-07:00">





  

  


<link rel="canonical" href="http://localhost:4000/gremlin-chaos-monkey/origin-netflix/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Gabe Wyatt",
      "url": "http://localhost:4000/gremlin-chaos-monkey",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/gremlin-chaos-monkey/feed.xml" type="application/atom+xml" rel="alternate" title="Gremlin: Chaos Monkey Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/gremlin-chaos-monkey/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->
<link rel="icon" href="https://www.gremlin.com/favicon-32x32.png" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/gremlin-chaos-monkey/">Gremlin: Chaos Monkey</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/gremlin-chaos-monkey/notes" >Notes to Editor</a>
            </li><li class="masthead__menu-item">
              <a href="https://drive.google.com/drive/folders/16PhHEJGZtF428eyko_6-2BxpDGAU9JhW?usp=sharing" >Google Drive Exports</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="http://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
          <a href="http://localhost:4000/gremlin-chaos-monkey/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">The Origin of Chaos Monkey - Why Netflix Needed to Create Failure</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Hub Pages</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/" class="">Chaos Monkey Guide for Engineers</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/origin-netflix" class="">The Origin of Chaos Monkey</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/developer-tutorial" class="">Chaos Monkey Tutorial</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/advanced-tips" class="">Advanced Developer Guide</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/simian-army" class="">The Simian Army</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/downloads-resources" class="">Chaos Monkey Resources</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives" class="">Chaos Monkey Alternatives</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Alternatives</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/azure" class="">Azure</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/docker" class="">Docker</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/google-cloud-platform" class="">Google Cloud Platform</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/kubernetes" class="">Kubernetes</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/openshift" class="">OpenShift</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/private-cloud" class="">Private Cloud</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/spring-boot" class="">Spring Boot</a></li>
          
            
            

            
            

            <li><a href="/gremlin-chaos-monkey/alternatives/vmware" class="">VMWare</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="The Origin of Chaos Monkey - Why Netflix Needed to Create Failure">
    
    <meta itemprop="datePublished" content="September 12, 2018">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">The Origin of Chaos Monkey - Why Netflix Needed to Create Failure
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  7 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> </h4></header>
              <ul class="toc__menu">
  <li><a href="#the-history-of-netflix-streaming">The History of Netflix Streaming</a></li>
  <li><a href="#the-simian-army">The Simian Army</a></li>
  <li><a href="#chaos-monkey-today">Chaos Monkey Today</a></li>
  <li><a href="#failure-injection-testing">Failure Injection Testing</a></li>
  <li><a href="#strictly-spinning-on-spinnaker">Strictly Spinning on Spinnaker</a></li>
</ul>
            </nav>
          </aside>
        
        <p>In this chapter we’ll take a deep dive into the origins and history of Chaos Monkey, how <a href="/gremlin-chaos-monkey/origin-netflix#the-history-of-netflix-streaming">Netflix streaming services emerged</a>, and why Netflix needed to create failure within their systems to actually improve their service and customer experiences.  We’ll also provide a brief overview of the <a href="/gremlin-chaos-monkey/origin-netflix#the-simian-army">Simian Army</a> and its relation to the original Chaos Monkey technology.  Finally, we’ll jump into the <a href="/gremlin-chaos-monkey/origin-netflix#chaos-monkey-today">present and future of Chaos Monkey</a>, dig into the creation and implementation of <a href="/gremlin-chaos-monkey/origin-netflix#failure-injection-testing">Failure Injection Testing</a> at Netflix, and discuss the potential issues and limitations presented by Chaos Monkey’s <a href="/gremlin-chaos-monkey/origin-netflix#strictly-spinning-on-spinnaker">reliance on Spinnaker</a>.</p>

<h2 id="the-history-of-netflix-streaming">The History of Netflix Streaming</h2>

<p>Netflix launched their streaming service in early 2007, as a free addon for their existing DVD-by-mail subscribers.  While their initial streaming library contained only <a href="https://profkenhoma.wordpress.com/2009/06/23/netflix-managing-a-still-hot-business-as-its-time-runs-out/">around 1,000 titles</a> at launch, the popularity and demand continued to rise, and Netflix kept adding to their streaming library, reaching over 12,000 titles by June 2009.</p>

<p>As with any rapidly scaling product, Netflix’s streaming service was not without its share of flaws and limitations.  It was <a href="https://www.nytimes.com/2007/01/16/technology/16netflix.html">initially built</a> by Netflix engineers on top of Microsoft software and housed within vertically scaled server racks.  However, Netflix’s reliance on single points of failure came back to bite them in August 2008, when a <a href="https://media.netflix.com/en/company-blog/completing-the-netflix-cloud-migration">major database corruption</a> resulted in a three-day downtime during which DVDs couldn’t be shipped to customers.  Following this event, Netflix engineers concluded that their reliance on vertical scaling and monolithic architecture was not the best approach.  Their journey of migrating the entire Netflix stack into the cloud began in late 2008 and was complete by <a href="https://media.netflix.com/en/company-blog/completing-the-netflix-cloud-migration">early January 2016</a>.  While the <em>full</em> migration took about seven years, by <a href="https://medium.com/netflix-techblog/four-reasons-we-choose-amazons-cloud-as-our-computing-platform-4aceb692afec">late 2010</a> the team had successfully shifted the majority of Netflix’s member traffic through software built and deployed in <a href="https://aws.amazon.com/">Amazon Web Services</a>.</p>

<p>This major shift toward a distributed architecture of hundreds of microservices presented a great deal of additional complexity.  Most modern web software is composed of many moving parts including servers, databases, load balancers, clusters, CDNs, VPCs, APIs, and more initialisms than you can shake a stick at.  This level of intricacy and interconnectedness presents problems that can be extremely difficult to understand, let alone resolve.  Failure is inevitable, but by using proper Chaos Engineering techniques, systems resilient and robust enough to handle future failures are a reality.</p>

<p>Netflix’s move toward a horizontally scaled software stack required systems that were much more reliable and fault tolerant.  One of the most critical lessons – as made particularly evident by the major database corruption incident back in 2008 – was that <a href="https://medium.com/netflix-techblog/5-lessons-weve-learned-using-aws-1f2a28588e4c">“the best way to avoid failure is to fail constantly.”</a>.  The engineering team needed a tool that could <em>proactively</em> inject failure into the system.  This would show the team how the system behaved under abnormal conditions, and would teach them how to alter the system so other services could easily tolerate future, <em>unplanned</em> failures.  Thus, the Netflix team began their journey into Chaos.</p>

<h2 id="the-simian-army">The Simian Army</h2>

<p><strong>(TODO)</strong>: Briefly explore Simian Army, as introduction and lead into <a href="/gremlin-chaos-monkey/simian-army">The Simian Army - Overview and Resources</a> chapter.</p>

<h2 id="chaos-monkey-today">Chaos Monkey Today</h2>

<p>Chaos Monkey 2.0 was <a href="https://medium.com/netflix-techblog/netflix-chaos-monkey-upgraded-1d679429be5d">announced</a> and <a href="https://github.com/netflix/chaosmonkey">publicly released on GitHub</a> in late 2016.  The new version includes a handful of major feature changes and additions.</p>

<ul>
  <li><strong>Spinnaker Requirement</strong>: <a href="https://www.spinnaker.io/">Spinnaker</a> is an open-source, multi-cloud continuous delivery platform developed by Netflix, which allows for automated deployments across multiple cloud providers like AWS, Azure, Kubernetes, and <a href="https://www.spinnaker.io/reference/providers/">a few more</a>.  One major drawback of using Chaos Monkey is that it <em>forces</em> you and your organization to build atop Spinnaker’s CD architecture.  If you need some guidance on that, check out our <a href="/gremlin-chaos-monkey/advanced-tips#how-to-manually-deploy-spinnaker-for-chaos-monkey">Spinnaker deployment tutorials</a>.</li>
  <li><strong>Improved Scheduling</strong>: Instance termination schedules are no longer determined by probabilistic algorithms, but are instead  based on the <em>mean time</em> between terminations.  Check out <a href="/gremlin-chaos-monkey/developer-tutorial#how-to-schedule-chaos-monkey-terminations">How to Schedule Chaos Monkey Terminations</a> for technical instructions.</li>
  <li><strong>Trackers</strong>: <a href="https://netflix.github.io/chaosmonkey/Tracker/">Trackers</a> are Go language objects that report instance terminations to external services.</li>
  <li><strong>Loss of Additional Capabilities</strong>: Prior to 2.0, Chaos Monkey was capable of performing additional actions <em>beyond</em> just terminating instances.  With version 2.0, those capabilities have been removed and moved to other <a href="/gremlin-chaos-monkey/simian-army">Simian Army</a> tools.</li>
</ul>

<h2 id="failure-injection-testing">Failure Injection Testing</h2>

<p>In October 2014, dissatisfied with the lack of control introduced when unleashing some of the <a href="/gremlin-chaos-monkey/simian-army">Simian Army</a> tools, <a href="https://medium.com/netflix-techblog/fit-failure-injection-testing-35d8e2a9bb2">Netflix introduced</a> a solution they called <em>Failure Injection Testing</em> (<em>FIT</em>).  Built by a small team of Netflix engineers – including Gremlin Co-Founder and CEO <a href="https://www.gremlin.com/team/">Kolton Andrus</a> – FIT simplified the failure injection process, allowing Netflix to more precisely determine what was failing and which components that failure impacted.</p>

<p>FIT works by first pushing failure simulation metadata to <a href="https://github.com/Netflix/zuul/wiki">Zuul</a>, which is an edge service developed by Netflix.  Zuul handles all requests from devices and applications that utilize the back end of Netflix’s streaming service.  As of version 2.0, <a href="https://github.com/Netflix/zuul/wiki/Core-Features">Zuul can handle</a> dynamic routing, monitoring, security, resiliency, load balancing, connection pooling, and more.  The core functionality of Zuul’s business logic comes from <a href="https://github.com/Netflix/zuul/wiki/Filters"><em>Filters</em></a>, which behave like simple <strong>pass/fail</strong> tests applied to each request and determine if a given action should be performed for that request.  A filter can handle actions such as <a href="https://github.com/Netflix/zuul/blob/2.1/zuul-sample/src/main/groovy/com/netflix/zuul/sample/filters/inbound/DebugRequest.groovy">adding debug logging</a>, determining if a <a href="https://github.com/Netflix/zuul/blob/2.1/zuul-core/src/main/java/com/netflix/zuul/filters/common/GZipResponseFilter.java">response should be GZipped</a>, or <a href="https://medium.com/netflix-techblog/fit-failure-injection-testing-35d8e2a9bb2#f07e">attaching injected failure</a>, as in the case of FIT.</p>

<p>The introduction of FIT into Netflix’s failure injection strategy was a monumental move toward better, modern-day Chaos Engineering practices.  Since FIT is a service unto itself, it allowed failure to be injected by a variety of teams, who could then perform proactive Chaos Experiments with greater precision.  This allowed Netflix to truly emphasize a core discipline of Chaos Engineering, knowing they were testing for failure in every nook and cranny, proving confidence that their systems were resilient to truly <em>unexpected</em> failures.</p>

<h2 id="strictly-spinning-on-spinnaker">Strictly Spinning on Spinnaker</h2>

<p>As discussed <a href="/gremlin-chaos-monkey/origin-netflix#chaos-monkey-today">above</a> and later in our <a href="/gremlin-chaos-monkey/developer-tutorial#how-to-quickly-deploy-spinnaker-for-chaos-monkey">Spinnaker Quick Start</a> guide, Chaos Monkey can <strong>only</strong> be used to terminate instances within an application managed by <a href="https://spinnaker.io">Spinnaker</a>.</p>

<p><img src="../images/origin-netflix-bummer.gif" alt="bummer" title="Bill Murray Bummer" /></p>

<p>This requirement is not a problem for Netflix or those other companies (such as <a href="https://cloudplatform.googleblog.com/2017/02/guest-post-multi-cloud-continuous-delivery-using-Spinnaker-at-Waze.html">Waze</a>) that using Spinnaker to great success.  However, limiting your Chaos Engineering tools and practices to just Chaos Monkey also means limiting yourself to only Spinnaker as your continuous delivery and deployment solution.  This may present a number of potential issues:</p>

<ul>
  <li><strong>Setup and Propagation</strong>: Spinnaker requires quite a bit of investment in server setup and propagation.  As you may notice in even the streamlined, provider-specific tutorials found <a href="/gremlin-chaos-monkey/advanced-tips">later in this guide</a>, getting Spinnaker up and running on a production environment takes a lot of time (and a hefty number of CPU cycles).</li>
  <li><strong>Limited Documentation</strong>: Spinnaker’s <a href="https://www.spinnaker.io/setup/install/">official documentation</a> is rather limited and somewhat outdated in certain areas.  This is to be expected with any project to some degree, but it can be frustrating to find huge discrepancies between the documentation and how your active Spinnaker deployment functions.</li>
  <li><strong>Provider Support</strong>: Spinnaker currently supports most of the <a href="https://www.spinnaker.io/concepts/providers/">big name cloud providers</a>, but if your use case requires a provider outside of this list you’re out of luck (or will need to develop your own <a href="https://github.com/spinnaker/clouddriver">CloudDriver</a>).</li>
</ul>


        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2018-09-12T00:00:00-07:00">September 12, 2018</time></p>
        
      </footer>

      

      
    </div>

    
  </article>

  
  
</div>
    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
    
    
    
    
    
    <li><a href="/gremlin-chaos-monkey/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2018 Gabe Wyatt</div>

      </footer>
    </div>

    
  <script src="/gremlin-chaos-monkey/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"></script>








  </body>
</html>