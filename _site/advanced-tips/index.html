<h1 id="taking-chaos-monkey-to-the-next-level---advanced-developer-guide">Taking Chaos Monkey to the Next Level - Advanced Developer Guide</h1>

<ul>
  <li>URL: <code class="highlighter-rouge">https://www.gremlin.com/chaos-monkey/advanced-tips</code></li>
  <li>Parent: <code class="highlighter-rouge">Pillar Page: Chaos Monkey Guide for Engineers - Tips, Tutorials, and Training</code></li>
  <li>Content:
    <ul>
      <li>Per <strong>Austin</strong>, content to be determined after direction from <strong>Kolton</strong>.</li>
    </ul>
  </li>
</ul>

<h2 id="installing-chaos-monkey-with-kubernetes-on-aws">Installing Chaos Monkey with Kubernetes on AWS</h2>

<blockquote>
  <p>See: https://aws.amazon.com/blogs/opensource/spinnaker-on-aws/</p>
</blockquote>

<h3 id="configure-kubectl-and-aws-iam-authenticator">Configure Kubectl and AWS IAM Authenticator</h3>

<blockquote>
  <p>See: https://docs.aws.amazon.com/eks/latest/userguide/configure-kubectl.html</p>
</blockquote>

<h3 id="configure-kubernetes">Configure Kubernetes</h3>

<blockquote>
  <p>See: https://docs.aws.amazon.com/eks/latest/userguide/create-kubeconfig.html</p>
</blockquote>

<ul>
  <li>Copy and paste the following into <code class="highlighter-rouge">~/.kube/config-&lt;cluster-name&gt;</code>, where <code class="highlighter-rouge">&lt;cluster-name&gt;</code> is replaced by the name of the Kubernetes cluster you already created:</li>
</ul>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">clusters</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">cluster</span><span class="pi">:</span>
    <span class="na">server</span><span class="pi">:</span> <span class="s">&lt;endpoint-url&gt;</span>
    <span class="na">certificate-authority-data</span><span class="pi">:</span> <span class="s">&lt;base64-encoded-ca-cert&gt;</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">kubernetes</span>
<span class="na">contexts</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">context</span><span class="pi">:</span>
    <span class="na">cluster</span><span class="pi">:</span> <span class="s">kubernetes</span>
    <span class="na">user</span><span class="pi">:</span> <span class="s">aws</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">aws</span>
<span class="na">current-context</span><span class="pi">:</span> <span class="s">aws</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Config</span>
<span class="na">preferences</span><span class="pi">:</span> <span class="pi">{}</span>
<span class="na">users</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">aws</span>
  <span class="na">user</span><span class="pi">:</span>
    <span class="na">exec</span><span class="pi">:</span>
      <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">client.authentication.k8s.io/v1alpha1</span>
      <span class="na">command</span><span class="pi">:</span> <span class="s">aws-iam-authenticator</span>
      <span class="na">args</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">token"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">-i"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">&lt;cluster-name&gt;"</span>
        <span class="c1"># - "-r"</span>
        <span class="c1"># - "&lt;role-arn&gt;"</span>
      <span class="c1"># env:</span>
        <span class="c1"># - name: AWS_PROFILE</span>
        <span class="c1">#   value: "&lt;aws-profile&gt;"</span>
</code></pre></div></div>

<ul>
  <li>Replace the <code class="highlighter-rouge">&lt;...&gt;</code> placeholder strings with the following <code class="highlighter-rouge">EKS_CLUSTER_</code> exported values retrieved earlier:
    <ul>
      <li><code class="highlighter-rouge">&lt;endpoint-url&gt;</code>: <code class="highlighter-rouge">${EKS_CLUSTER_ENDPOINT}</code></li>
      <li><code class="highlighter-rouge">&lt;base64-encoded-ca-cert&gt;</code>: <code class="highlighter-rouge">${EKS_CLUSTER_CA_DATA}</code></li>
      <li><code class="highlighter-rouge">&lt;cluster-name&gt;</code>: <code class="highlighter-rouge">${EKS_CLUSTER_NAME}</code></li>
    </ul>
  </li>
</ul>

<p>!!! Tip
    You can easily output the value of an exported variable with <code class="highlighter-rouge">echo $VARIABLE_NAME</code>:
    <code class="highlighter-rouge">bash
    $ echo $EKS_CLUSTER_NAME
    spinnaker-cluster
   </code></p>

<ul>
  <li>Your <code class="highlighter-rouge">config-spinnaker-cluster</code> file should now look something like this:</li>
</ul>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">clusters</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">cluster</span><span class="pi">:</span>
    <span class="na">server</span><span class="pi">:</span> <span class="s">https://51A93D4A4B1228D6D06BE160DA2D3A8A.yl4.us-west-2.eks.amazonaws.com</span>
    <span class="na">certificate-authority-data</span><span class="pi">:</span> <span class="s">LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRFNE1Ea3dOakExTVRnME1BHeGFNN3QyaApzcm8wa1ZOWTdCQ1g5YVBBY09rRFVuRExGektpZTJnZVZLOFpxVHJvZEpLR0p3SEtjVDJNNUtsR0ZTSjMzSGpoCk5ZeVErTnJkd0VKT2puR2xZN3R1eVFvZjhnNU0vNWZzZSt0TWFMTjJjQ3NWNFA1NCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFKN3owTEI5NFVoZWNwTUh0VGYrVTkxVDlxU2IKNWFVRGQrdlVTNEpVTWwwdk01OXBqc05CNDU1Z1l6ZkpLelZ1YXI5TjJOVURiREllNUJsbjlCRjWb1hEVEk0TURrd016QTFNVGcwTVZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBT0h6CldrZ2pzTWZ0eEJYd3NZOGRuVXI5UUQTAzUVczazlaZHZlMWNYRlp4bHdqc3RSdWN3eUxRTG12eUh0VzJsTjE4RENqSXF5OGwxeUlYSENERQpXQjI3eHo4TXg3ZDJVSjIyaThjQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0V5OSTJHYjV4QU1vYjJBaWQwbEQrT2NncGdDcXQvQ3h2SlFJRGpxbjRKT1AKejh6RVkvWVVsQjBUOTVXUUFsRE9ZWnlKY3lDeWxYcFZRTnNDRWNSMFhUakRaVDFVbXMyMmk4NlozYy8xQ1IrWgpKNkNqZ3IvZkNadVVaV0VUbGt1WXhlSG5CQS91ZURJM1NsMVdnY0ZFMGFyNGxsVkVFVngyS01PZXhuM09FdHI0CjhBd1dmQWxzSUNXRWdjMjRKdzk5MG9LelNObXB0cWRaOEFwczhVaHJoZWtoNEh1blpFLzhud1prb213SE1TcTYKbjl5NFJN3RyR0xWN0RzMUxWUFBlWjkKVVB0eU1WODlieFVEeFhNV3I3d2tNRy9YckdtaC9nN1gwb1grdXRnUUtiSWdPaHZMZEFKSDNZUUlyTjhHS0krcwpIMGtjTnpYMWYzSGdabUVINUIxNXhER0R2SnA5a045Q29VdjRYVE5tdlljVlNVSy9vcWdwaXd1TU9oZz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">kubernetes</span>
<span class="na">contexts</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">context</span><span class="pi">:</span>
    <span class="na">cluster</span><span class="pi">:</span> <span class="s">kubernetes</span>
    <span class="na">user</span><span class="pi">:</span> <span class="s">aws</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">aws</span>
<span class="na">current-context</span><span class="pi">:</span> <span class="s">aws</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Config</span>
<span class="na">preferences</span><span class="pi">:</span> <span class="pi">{}</span>
<span class="na">users</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">aws</span>
  <span class="na">user</span><span class="pi">:</span>
    <span class="na">exec</span><span class="pi">:</span>
      <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">client.authentication.k8s.io/v1alpha1</span>
      <span class="na">command</span><span class="pi">:</span> <span class="s">aws-iam-authenticator</span>
      <span class="na">args</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">token"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">-i"</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">spinnaker-cluster"</span>
        <span class="c1"># - "-r"</span>
        <span class="c1"># - "&lt;role-arn&gt;"</span>
      <span class="c1"># env:</span>
        <span class="c1"># - name: AWS_PROFILE</span>
        <span class="c1">#   value: "&lt;aws-profile&gt;"</span>
</code></pre></div></div>

<ul>
  <li>Save your config file, then specify the path to the <code class="highlighter-rouge">KUBECONFIG</code> environment variable:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">KUBECONFIG</span><span class="o">=</span><span class="nv">$KUBECONFIG</span>:~/.kube/config-spinnaker-cluster
</code></pre></div></div>

<ul>
  <li>Test that <code class="highlighter-rouge">kubectl</code> is able to use your credentials to connect to your cluster with <code class="highlighter-rouge">kubectl get svc</code>:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl get svc

NAME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>   AGE
kubernetes   ClusterIP   172.25.0.1   &lt;none&gt;        443/TCP   31m
</code></pre></div></div>

<h4 id="create-aws-accounts-and-roles">Create AWS Accounts and Roles</h4>

<ul>
  <li>Issue the following commands to create the <code class="highlighter-rouge">spinnaker</code> namespace, <code class="highlighter-rouge">spinnaker-service-account</code> serviceaccount, and <code class="highlighter-rouge">spinnaker-admin</code> binding:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">CONTEXT</span><span class="o">=</span>aws
kubectl create namespace spinnaker
kubectl apply <span class="nt">-f</span> https://d3079gxvs8ayeg.cloudfront.net/templates/spinnaker-service-account.yaml
kubectl apply <span class="nt">-f</span> https://d3079gxvs8ayeg.cloudfront.net/templates/spinnaker-cluster-role-binding.yaml
</code></pre></div></div>

<ul>
  <li>Next get your secret key and set it in the <code class="highlighter-rouge">TOKEN</code> environmental variable:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">TOKEN</span><span class="o">=</span><span class="k">$(</span>kubectl get secret <span class="nt">--context</span> <span class="nv">$CONTEXT</span> <span class="se">\</span>
   <span class="k">$(</span>kubectl get serviceaccount spinnaker-service-account <span class="se">\</span>
       <span class="nt">--context</span> <span class="nv">$CONTEXT</span> <span class="se">\</span>
       <span class="nt">-n</span> spinnaker <span class="se">\</span>
       <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.secrets[0].name}'</span><span class="k">)</span> <span class="se">\</span>
   <span class="nt">-n</span> spinnaker <span class="se">\</span>
   <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.data.token}'</span> | <span class="nb">base64</span> <span class="nt">--decode</span><span class="k">)</span>
</code></pre></div></div>

<ul>
  <li>Now we’ll pass the <code class="highlighter-rouge">TOKEN</code> to configuration commands to specify <code class="highlighter-rouge">kubectl</code> credentials:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl config set-credentials <span class="k">${</span><span class="nv">CONTEXT</span><span class="k">}</span><span class="nt">-token-user</span> <span class="nt">--token</span> <span class="nv">$TOKEN</span>
kubectl config set-context <span class="nv">$CONTEXT</span> <span class="nt">--user</span> <span class="k">${</span><span class="nv">CONTEXT</span><span class="k">}</span><span class="nt">-token-user</span>
</code></pre></div></div>

<h3 id="add-kubernetes-provider-to-halyard">Add Kubernetes Provider to Halyard</h3>

<ul>
  <li>Start by enabling the Kubernetes provider in Halyard: <code class="highlighter-rouge">$ hal config provider kubernetes enable</code>.</li>
  <li>Next, add the <code class="highlighter-rouge">kubernetes-master</code> account to Halyard:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hal config provider kubernetes account add kubernetes-master <span class="nt">--provider-version</span> v2 <span class="nt">--context</span> <span class="k">$(</span>kubectl config current-context<span class="k">)</span><span class="sb">`</span>
</code></pre></div></div>

<ul>
  <li>Enable the <code class="highlighter-rouge">artifacts</code> and <code class="highlighter-rouge">chaos</code> features of Halyard:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hal config features edit <span class="nt">--artifacts</span> <span class="nb">true
</span>hal config features edit <span class="nt">--chaos</span> <span class="nb">true</span>
</code></pre></div></div>

<h3 id="add-aws-provider-to-halyard">Add AWS Provider to Halyard</h3>

<ul>
  <li>Input the following commands, replacing <code class="highlighter-rouge">&lt;AWS_ACCOUNT_ID&gt;</code> with the primary/managing account ID of your AWS account:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hal config provider aws account add aws-primary <span class="nt">--account-id</span> &lt;AWS_ACCOUNT_ID&gt; <span class="nt">--assume-role</span> role/spinnakerManaged
hal config provider aws <span class="nb">enable</span>
</code></pre></div></div>

<h3 id="add-ecs-provider-to-halyard">Add ECS Provider to Halyard</h3>

<ul>
  <li>Input the following commands, which will create the <code class="highlighter-rouge">ecs-primary</code> account in Halyard and associate it with the <code class="highlighter-rouge">aws-primary</code> AWS account added above:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hal config provider ecs account add ecs-primary <span class="nt">--aws-account</span> aws-primary
hal config provider ecs <span class="nb">enable</span>
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hal config deploy edit <span class="nt">--type</span> distributed <span class="nt">--account-name</span> kubernetes-master
</code></pre></div></div>

<p>!!! Error Error: Problems in default.deploymentEnvironment
    - WARNING Field DeploymentEnvironment.haServices not supported for Spinnaker version 1.9.2: High availability services are not available prior to this release.
    ? Use at least 1.10.0 (It may not have been released yet).</p>

<h3 id="use-s3-for-persistent-storage">Use S3 for Persistent Storage</h3>

<ul>
  <li>Allow Spinnaker to use AWS S3 to store persistent data, which simply creates a small S3 bucket.  Issue the following command by replacing <code class="highlighter-rouge">&lt;AWS_ACCESS_KEY_ID&gt;</code> with any AWS access key that has full S3 service privileges:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hal config storage s3 edit <span class="nt">--access-key-id</span> &lt;AWS_ACCESS_KEY_ID&gt; <span class="nt">--secret-access-key</span> <span class="nt">--region</span> us-west-2
hal config storage edit <span class="nt">--type</span> s3
</code></pre></div></div>

<h3 id="create-kubernetes-worker-nodes">Create Kubernetes Worker Nodes</h3>

<ul>
  <li>Download <a href="https://d3079gxvs8ayeg.cloudfront.net/templates/amazon-eks-nodegroup.yaml">this</a> <code class="highlighter-rouge">amazon-eks-nodegroup.yml</code> template file:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-O</span> https://d3079gxvs8ayeg.cloudfront.net/templates/amazon-eks-nodegroup.yaml
</code></pre></div></div>

<ul>
  <li>Make sure you’re still running the same console window in which you issued the series of</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>aws cloudformation deploy <span class="nt">--stack-name</span> spinnaker-eks-nodes <span class="nt">--template-file</span> amazon-eks-nodegroup.yaml <span class="se">\</span>
<span class="nt">--parameter-overrides</span> <span class="nv">NodeInstanceProfile</span><span class="o">=</span><span class="nv">$SPINNAKER_INSTANCE_PROFILE_ARN</span> <span class="se">\</span>
<span class="nv">NodeInstanceType</span><span class="o">=</span>t2.large <span class="nv">ClusterName</span><span class="o">=</span><span class="nv">$EKS_CLUSTER_NAME</span> <span class="nv">NodeGroupName</span><span class="o">=</span>spinnaker-cluster-nodes <span class="nv">ClusterControlPlaneSecurityGroup</span><span class="o">=</span><span class="nv">$CONTROL_PLANE_SG</span> <span class="se">\</span>
<span class="nv">Subnets</span><span class="o">=</span><span class="nv">$SUBNETS</span> <span class="nv">VpcId</span><span class="o">=</span><span class="nv">$VPC_ID</span> <span class="nt">--capabilities</span> CAPABILITY_NAMED_IAM
</code></pre></div></div>

<ul>
  <li>Paste the following into a new <code class="highlighter-rouge">~/.kube/aws-auth-cm.yaml</code> file, replacing <code class="highlighter-rouge">&lt;AUTH_ARN&gt;</code> with the <code class="highlighter-rouge">AUTH_ARN</code> variable created previously (use <code class="highlighter-rouge">echo $AUTH_ARN</code> to print to console):</li>
</ul>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ConfigMap</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">aws-auth</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">kube-system</span>
<span class="na">data</span><span class="pi">:</span>
  <span class="na">mapRoles</span><span class="pi">:</span> <span class="pi">|</span>
    <span class="no">- rolearn: &lt;AUTH_ARN&gt;</span>
      <span class="no">username: system:node:</span>
      <span class="no">groups:</span>
        <span class="no">- system:bootstrappers</span>
        <span class="no">- system:nodes</span>
</code></pre></div></div>

<ul>
  <li>Apply this newly created role mapping by issuing the following command:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl apply <span class="nt">-f</span> aws-auth-cm.yaml
</code></pre></div></div>

<ul>
  <li>Check the status of your Kubernetes nodes with <code class="highlighter-rouge">kubectl get nodes</code>.  The <code class="highlighter-rouge">--watch</code> flag can be added to perform constant updates.</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl get nodes
NAME                                          STATUS    ROLES     AGE       VERSION
ip-10-100-10-178.us-west-2.compute.internal   Ready     &lt;none&gt;    2m        v1.10.3
ip-10-100-10-210.us-west-2.compute.internal   Ready     &lt;none&gt;    2m        v1.10.3
ip-10-100-11-239.us-west-2.compute.internal   Ready     &lt;none&gt;    2m        v1.10.3
</code></pre></div></div>

<ul>
  <li>Once all nodes have a <code class="highlighter-rouge">Ready</code> <strong>STATUS</strong> you’re all set to deploy Spinnaker.</li>
</ul>

<h3 id="deploy-spinnaker">Deploy Spinnaker</h3>

<ul>
  <li>View the currently available Spinnaker versions with <code class="highlighter-rouge">hal version list</code>:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hal version list
+ Get current deployment
  Success
+ Get Spinnaker version
  Success
+ Get released versions
  Success
+ You are on version <span class="s2">""</span>, and the following are available:
 - 1.7.8 <span class="o">(</span>Ozark<span class="o">)</span>:
   Changelog: https://gist.github.com/spinnaker-release/75f98544672a4fc490d451c14688318e
   Published: Wed Aug 29 19:09:57 UTC 2018
   <span class="o">(</span>Requires Halyard <span class="o">&gt;=</span> 1.0.0<span class="o">)</span>
 - 1.8.6 <span class="o">(</span>Dark<span class="o">)</span>:
   Changelog: https://gist.github.com/spinnaker-release/0844fadacaf2299d214a82e88217d97c
   Published: Wed Aug 29 19:11:34 UTC 2018
   <span class="o">(</span>Requires Halyard <span class="o">&gt;=</span> 1.0.0<span class="o">)</span>
 - 1.9.2 <span class="o">(</span>Bright<span class="o">)</span>:
   Changelog: https://gist.github.com/spinnaker-release/9323c90ab2088d89e68ce2a7ef7e5809
   Published: Wed Aug 29 20:08:18 UTC 2018
   <span class="o">(</span>Requires Halyard <span class="o">&gt;=</span> 1.0.0<span class="o">)</span>
</code></pre></div></div>

<ul>
  <li>Specify the version you wish to install with the <code class="highlighter-rouge">--version</code> flag below.  We’ll be using the latest at the time of writing, <code class="highlighter-rouge">1.9.2</code>:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hal config version edit <span class="nt">--version</span> 1.9.2
hal deploy apply
</code></pre></div></div>

<p>!!! Error <code class="highlighter-rouge">Deploy apply</code> errors.
    In some cases you may experience a deployment error related to your <code class="highlighter-rouge">kubeconfig</code> file(s).</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>hal deploy connect
</code></pre></div></div>

